!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";!function(){function e(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function n(e){var t=0,n=0;do isNaN(e.offsetLeft)||(n+=e.offsetLeft),isNaN(e.offsetTop)||(t+=e.offsetTop);while(e=e.offsetParent);return{top:t,left:n}}function r(e){var t="";return e.forEach(function(e){e.selected&&(t+=e.name)}),t}function o(e,t){var n="",r=null;return e.forEach(function(e,o){if(!(t>=0&&o>t))if(e.invalid)r=null;else if(e.selected){r&&(n+=" >");var a="";e.features.forEach(function(e){e.selected&&(a+=e.pattern)}),""===a&&(a="*"),n+=" "+a,r=e}else r=null}),""===n&&(n="*"),n}function a(t){var n=[];do{var a=[];if(a.push({name:t.tagName.toLowerCase(),pattern:t.tagName.toLowerCase(),selected:!0}),t.getAttribute("id")&&(has_id_feature=!0,a.push({name:"#"+t.getAttribute("id"),pattern:"#"+t.getAttribute("id"),selected:!0})),t.classList.length>0)for(var l=0;l<t.classList.length;l++){var i=t.classList[l];a.push({name:"."+i,pattern:"."+i,selected:!0})}for(var s="itemprop",l=0,c=t.attributes;l<c.length;l++)s.indexOf(c[l].nodeName)!=-1&&a.push({name:"["+c[l].nodeName+"="+JSON.stringify(c[l].nodeValue)+"]",pattern:"["+c[l].nodeName+"="+JSON.stringify(c[l].nodeValue)+"]",selected:!0});for(var u=t.parentNode.childNodes,d=t.tagName.toLowerCase(),l=0,f=0;u.length>1&&l<u.length;l++){var p=u[l];if(p===t){d+="["+(f+1)+"]";break}p.tagName==t.tagName&&f++}n.push({tag:t.tagName.toLowerCase(),name:r(a),xpath:d,selected:!0,invalid:"tbody"===t.tagName.toLowerCase(),features:a})}while(t=t.parentElement);n.reverse();var h=document.querySelectorAll(o(n));return n.forEach(function(t,a){if(!t.invalid){var l=document.querySelectorAll(o(n,a));t.features.forEach(function(t,r){t.selected=!1,e(l,document.querySelectorAll(o(n,a)))||(t.selected=!0)}),t.features.every(function(e){return!e.selected})&&(t.features[0].selected=!0),t.name=r(t.features)}}),n.forEach(function(t,r){return t.selected=!1,e(h,document.querySelectorAll(o(n)))?void(t.name=t.tag):void(t.selected=!0)}),n}function l(e){e instanceof Element&&(e=[e]),Array.prototype.forEach.call(document.querySelectorAll(".pyspider_overlay"),function(e){e.remove()}),Array.prototype.forEach.call(e,function(e){var t=document.createElement("div");t.className="pyspider_overlay";var r=n(e);t.setAttribute("style","z-index: 999999;background-color: rgba(255, 165, 0, 0.3);position: absolute;pointer-events: none;top: "+r.top+"px;left:"+r.left+"px;width: "+e.offsetWidth+"px;height: "+e.offsetHeight+"px;"),document.body.appendChild(t)})}function i(e){e instanceof Element&&(e=[e]),Array.prototype.forEach.call(document.querySelectorAll(".pyspider_highlight"),function(e){e.remove()}),Array.prototype.forEach.call(e,function(e){var t=document.createElement("div");t.className="pyspider_highlight";var r=n(e);t.setAttribute("style","z-index: 888888;border: 2px solid #c00;position: absolute;pointer-events: none;top: "+(r.top-2)+"px;left:"+(r.left-2)+"px;width: "+e.offsetWidth+"px;height: "+e.offsetHeight+"px;"),document.body.appendChild(t)})}window.addEventListener("message",function(e){"overlay"==e.data.type?l(t(e.data.xpath)):"heightlight"==e.data.type&&i(document.querySelectorAll(e.data.css_selector))}),document.addEventListener("mouseover",function(e){l(event.target)}),document.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),parent.postMessage({type:"selector_helper_click",path:a(e.target)},"*")})}()}]);
//# sourceMappingURL=css_selector_helper.min.js.map